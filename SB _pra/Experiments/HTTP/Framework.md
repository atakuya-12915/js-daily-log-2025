Servlet　→　JSPによって、デザインとロジックの分離が実現された！

しかし、大規模なチーム開発では保守運用が課題になっていた
→　「再利用」がテーマに（継承やライブラリの利用）

フレームワーク
  → 短期間・低コスト・高品質な開発を可能にしたもの

HTTP通信のパケット
  リクエスト/レスポンスの中身のこと
    処理は１対で行われる（ファイルの数だけ処理が繰り返される）
      htmlリクエスト↔︎htmlレスポンス
      画像リクエスト↔︎画像レスポンス
  
  クライアントからパラメータ（フォームで入力された値）を送る
    URLリクエストでは、Webサーバーが対応する既存のhtmlファイルを返すだけ
    JSPでは、追加で送信された「パラメータ」をプログラムが処理して新たにhtmlファイルを作成する
    

  ＜重要なキーワード＞
  ・テキストのみ / 画像付Webページ
  ・GET / POSTメソッド（パラメータ渡し）
  ・ログイン認証（PHP、Cookie、セッション）
  ・ステートレス / ステートフル


GETメソッド
  リクエスト処理
    Formから送信された「パラメータ（値）」を「URLに格納」した状態でリクエストを送る
      ?から始まるURL：クエリURL
        例）?arg1=12&arg2=34
      %で区切ることで、複数のパラメータを加えることができる
  レスポンス処理
    あらかじめ用意されたhtmlの返却　＆　JSPが新たに作成したhtmlの返却
          (毎回同じ内容)            （リクエストパラメータに応じて結果が変化）
      →htmlの中にjavaプログラム（計算など）を埋め込みして、プログラムの実行結果をhtmlで返す

    ⚠️GETメソッドでは、URLにパラメータ情報が追加されるため、安全性に欠ける。URLは長さが255文字に制限。

POSTメソッド
  Formから送信された「パラメータ（値）」を「メッセージボディに追加」してリクエストを送る
  URLにパラメータ情報が表示されないため、比較的安全に情報のやり取りができる。
  →メッセージボディに格納されるため、URL長の制限を気にせずパラメータを格納できる。


【ログイン機能】
HTTPプロトコルは、「ステートレス」（前回のやりとりを覚えられない）
例）１回目：ログイン　→ カゴに追加、２回目：カゴを確認　→ 空っぽ
→１回の通信で完結する仕様。

背景：
wwwは、世界中からアクセスされ、シンプルにhtmlを返すだけのWebサーバー。相手が誰か？は気にしない仕様。

FTPプロトコルは、「ステートフル」（直前のやりとりのみ覚えている）
例）対話形式で、直前のリクエストに重ねるようにレスポンスされる

ログイン画面　→ java → 成功画面 or 失敗画面
＜リダイレクトの流れ＞
０（form.htmlで、login.javaプログラムの起動を指示するform actionを定義）
１：リ（フォーム送信＝login.javaをリクエスト）
２：レ（success.htmlを参照するようにレスポンス）
３：リ（success.htmlをリクエスト）
４：レ（success.htmlを返却する）

⭐️リダイレクト：クライアントとサーバーがやりとりを行い、最初のhtmlとは別のページを表示すること
⚠️サクセス画面のURLにアクセスすれば、ログイン処理をしなくてもマイページにアクセスできてしまう！
　→前回のやりとりを記憶できない「ステートレス」の欠点
    「ログイン成功の状態」なのか？「失敗した状態」なのか？に関わらず、成功時のリクエストに
    そのままレスポンスしてしまう。（安全性の欠如）

Connection：keep-alive
Cookie：「前回の状態が書かれたメモ」（java：if文-setcookie関数　＞　set-Cookie:user=user, pass=pass）
        （サーバーからクライアントへ付与されるもの）
        次回のリクエスト時にこの「メモ」を添えてサーバーに送信
          →「ステートフル」に近い処理が行える。
          ログアウト時は、Cookie削除。サクセス時のURLでアクセスしてもログイン「失敗」となる。
  ⚠️Cookieの中身は、情報が丸裸の状態。見れる人が見れば搾取できてしまう。
    →セッションで機密性を上げる

セッション：番号をサーバーが管理
          set-Cookieの内容が、「セッションID」に置換されてやりとりできるようにする機能。
          サーバーがこの「セッションID」をCookieの内容として読み取って、レスポンスできる。


API
  アプリケーションに命令した時に、実装された機能範囲でデータを提供する仕組み
  例）郵便番号入力時に、住所が自動入力される仕組み

プロトコル
  FTP：ファイルの送受信を行うための規格。
  HTTP：コンテンツを送受信するための規格。（画像・テキスト・動画）
  HTTPS：HTTPを暗号化したもの。フォームのパラメータの安全性を高めた規格。

オンプレミス
  クライアント環境に導入したサーバー。

クラウド
  SaaS、PaaS、IaaS
  IaaS(ハード/インフラ)：さくらのクラウド、、AWS、GCP/GAE(Google)、Azure(MS)
  PaaS（ソフト＋ハード/インフラ）：Heroku、AWS、GCP/GAE(Google)、Azure(MS)
  SaaS（ソフト＋ハード/インフラ）：Adobe、MS365、Slack、Zoom

